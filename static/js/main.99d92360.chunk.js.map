{"version":3,"sources":["components/Header.js","components/ImageWithError.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/PopupWithForm.js","components/InputWithBrowserValidation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","serviceWorker.js","index.js","images/header/logo.svg","images/onerror.jpg"],"names":["className","src","logo","alt","props","React","useState","hasOnLoadError","setHasOnLoadError","useEffect","errorImage","onError","onClick","CurrentUserContext","createContext","useCurrentUserContext","useContext","CurrentUserContextProvider","Provider","value","children","currentUser","canAddDelete","card","owner","_id","likeShow","likes","some","item","ImageWithError","link","onCardClick","type","onCardDelete","name","onCardLike","length","handleAddPlaceClick","onAddPlace","bind","handleEditProfileClick","onEditProfile","handleEditAvatarClick","onEditAvatar","isHidden","avatar","about","cards","map","Card","key","popupOverlay","useRef","handleEscClose","useCallback","event","onClose","isOpened","document","addEventListener","removeEventListener","onMouseDown","target","current","ref","enabled","undefined","buttonEnabled","Popup","action","method","noValidate","onSubmit","title","disabled","buttonTitle","isValid","setIsValid","validationMessage","setValidationMessage","input","refInput","validity","valid","onButtonStatusChange","placeholder","onChange","required","minLength","maxLength","isTouched","userName","setUserName","userNameIsValid","setUserNameIsValid","isUserNameTouched","setIsUserNameTouched","description","setDescription","descriptionIsValid","setDescriptionIsValid","isDescriptionTouched","setIsDescriptionTouched","PopupWithForm","preventDefault","onUpdateUser","InputWithBrowserValidation","setIsTouched","setInput","setButtonEnabled","onUpdateAvatar","el","status","setName","nameIsValid","setNameIsValid","isNameTouched","setIsNameTouched","setLink","linkIsValid","setLinkIsValid","isLinkTouched","setIsLinkTouched","resetInputs","onCreateCard","onConfirm","api","options","this","_options","urlSuffix","body","fetch","baseUrl","headers","authorization","JSON","stringify","then","response","ok","json","Promise","reject","_serverRequest","profile","cardId","likeOn","metod","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsHidden","isSaving","setIsSaving","all","getUserInfo","getInitialCards","userInfo","initialCards","catch","error","console","log","finally","closeAllPopups","Header","Main","isLiked","like","newCard","newCards","c","Footer","EditProfilePopup","saveProfile","err","EditAvatarPopup","saveAvatar","AddPlacePopup","saveCard","cardData","ConfirmPopup","deleteCard","index","findIndex","splice","ImagePopup","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","App","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports"],"mappings":"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","file":"static/js/main.99d92360.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/header/logo.svg';\r\n\r\nexport default () => {\r\n    return (\r\n      <header className='header' >\r\n        <img className='header__logo'\r\n          src={logo}\r\n          alt='Логотип' />\r\n      </header>\r\n    );\r\n}","import React from 'react'\r\nimport errorImage from '../images/onerror.jpg';\r\n\r\nexport default (props) => {\r\n\r\n  const [hasOnLoadError, setHasOnLoadError] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setHasOnLoadError(false);\r\n  },[props.src]);\r\n\r\n  const onLoadImageError = () => {\r\n    setHasOnLoadError(true);\r\n  }\r\n\r\n  return (\r\n    <img className={props.className}\r\n      src={hasOnLoadError ? errorImage : props.src}\r\n      alt={props.alt}\r\n      onError={onLoadImageError}\r\n      onClick={props.onClick} />\r\n  );\r\n}","import React, { useContext } from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport const useCurrentUserContext = () => {\r\n  return useContext(CurrentUserContext);\r\n}\r\n\r\nexport const CurrentUserContextProvider = (props) => {\r\n  return (\r\n    <CurrentUserContext.Provider value={props.value}>\r\n      {props.children}\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}","import React from 'react';\r\nimport ImageWithError from './ImageWithError'\r\n\r\nimport { useCurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default (props) => {\r\n  const currentUser = useCurrentUserContext();\r\n\r\n  const canAddDelete = props.card.owner._id === currentUser._id;\r\n  const likeShow = props.card.likes.some((item) => { return item._id === currentUser._id; });\r\n\r\n  const handleCardClick = () => {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  const handleCardLike = () => {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  const handleCardDelete = () => {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <div className='photocard'>\r\n      <ImageWithError className='photocard__viewport'\r\n        src={props.card.link}\r\n        alt='Фото места'\r\n        onClick={handleCardClick}\r\n        onError={null} />\r\n\r\n      <button className={`photocard__delete ${canAddDelete && 'photocard__delete_show'}`}\r\n        type='button'\r\n        onClick={handleCardDelete}\r\n      />\r\n\r\n      <div className='photocard__description'>\r\n        <h2 className='photocard__placename'>{props.card.name}</h2>\r\n        <div className='photocard__likes'>\r\n          <button className={`photocard__like ${likeShow && 'photocard__like_on'}`}\r\n            type='button'\r\n            onClick={handleCardLike}\r\n          />\r\n          <span className='photocard__count'>{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport ImageWithError from './ImageWithError'\r\n\r\nimport Card from './Card';\r\nimport { useCurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default (props) => {\r\n\r\n  const handleAddPlaceClick = props.onAddPlace.bind(this);\r\n  const handleEditProfileClick = props.onEditProfile.bind(this);\r\n  const handleEditAvatarClick = props.onEditAvatar.bind(this);\r\n\r\n  const currentUser = useCurrentUserContext();\r\n\r\n  return (\r\n    <main className='main'>\r\n      <section className={`profile ${props.isHidden && 'profile_hidden'}`}>\r\n        <div className='profile__avatar-overlay'\r\n          onClick={handleEditAvatarClick} >\r\n          <ImageWithError className='profile__avatar'\r\n            src={currentUser.avatar}\r\n            alt='Аватар пользователя' />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <div className='profile__title'>\r\n            <h1 className='profile__name'>{currentUser.name}</h1>\r\n            <button className='profile__editbutton'\r\n              onClick={handleEditProfileClick}\r\n              type='button' />\r\n          </div>\r\n          <p className='profile__about'>{currentUser.about}</p>\r\n        </div>\r\n        <button className='profile__addbutton'\r\n          onClick={handleAddPlaceClick}\r\n          type='button' />\r\n      </section>\r\n\r\n      <section className='placesphotos'>\r\n        {props.cards.map(card =>\r\n          <Card key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />)}\r\n      </section>\r\n    </main>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default () => {\r\n    return (\r\n      <footer className='footer'>\r\n        <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\r\n      </footer>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default (props) => {\r\n\r\n  const popupOverlay = React.useRef(null);\r\n\r\n  const closeOnOverlayClick = (event) => {\r\n    if (event.target === popupOverlay.current) {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  const handleEscClose = React.useCallback((event) => {\r\n    if (event.key === 'Escape') {\r\n      props.onClose();\r\n    }\r\n    // eslint-disable-next-line\r\n  },[]);\r\n\r\n  React.useEffect(() => {\r\n    props.isOpened \r\n    ? document.addEventListener('keydown', handleEscClose)\r\n    : document.removeEventListener('keydown', handleEscClose);\r\n    // eslint-disable-next-line\r\n  }, [props.isOpened]);\r\n\r\n  return (\r\n    <section className={`popup popup_${props.name} ${props.isOpened && 'popup_opened'}`}\r\n      onMouseDown={closeOnOverlayClick}\r\n      ref={popupOverlay}>\r\n      {props.children}\r\n    </section>\r\n  );\r\n}","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nexport default (props) => {\r\n\r\n  let enabled = true; // если извне статус не задан - значит не учитываем его\r\n  if (props.buttonEnabled !== undefined) {\r\n    enabled = props.buttonEnabled;\r\n  }\r\n\r\n  return (\r\n    <Popup\r\n      name={props.name}\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}>\r\n      <form className='popup__container'\r\n        action='#'\r\n        method='POST'\r\n        name={`${props.name}`}\r\n        noValidate \r\n        onSubmit={props.onSubmit}>\r\n        <h2 className='popup__title'>{`${props.title}`}</h2>\r\n\r\n        {props.children}\r\n\r\n        <button \r\n          className={`popup__submit ${enabled ? '' : 'popup__submit_disabled'}`}\r\n          disabled={enabled ? '' : 'disabled'}\r\n          type='submit'>{props.buttonTitle}</button>\r\n        <button className='popup__reset'\r\n          type='button'\r\n          onClick={props.onClose} />\r\n      </form>\r\n    </Popup>\r\n  );\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\n\r\nexport default (props) => {\r\n\r\n  const [isValid, setIsValid] = useState(true);\r\n  const [validationMessage, setValidationMessage] = useState('None');\r\n\r\n  let input = useRef(null);\r\n\r\n  const validate = () => {\r\n    if (input.current) {\r\n      setIsValid(input.current.validity.valid);\r\n      setValidationMessage(input.current.validationMessage);\r\n      if (props.onButtonStatusChange !== undefined) {\r\n        props.onButtonStatusChange(input.current.validity.valid);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.refInput) {\r\n      props.refInput(input);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [input]);\r\n\r\n  useEffect(() => {\r\n    validate();\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        className={props.className}\r\n        type={props.type}\r\n        name={props.name}\r\n        placeholder={props.placeholder}\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        required={props.required ? true : false}\r\n        minLength={props.minLength}\r\n        maxLength={props.maxLength}\r\n        ref={input}\r\n      />\r\n      <span className={`popup__input_type_error ${(!isValid && props.isTouched) ? 'popup__error_visible' : ''}`}>\r\n        {validationMessage}\r\n      </span>\r\n    </>\r\n  );\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport InputWithBrowserValidation from './InputWithBrowserValidation';\r\n\r\nimport { useCurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default props => {\r\n\r\n  const currentUser = useCurrentUserContext();\r\n\r\n  const [userName, setUserName] = React.useState(currentUser.name);\r\n  const [userNameIsValid, setUserNameIsValid] = React.useState(true);\r\n  const [isUserNameTouched, setIsUserNameTouched] = React.useState(false);\r\n\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n  const [descriptionIsValid, setDescriptionIsValid] = React.useState(true);\r\n  const [isDescriptionTouched, setIsDescriptionTouched] = React.useState(false);\r\n\r\n  const buttonEnabled = userNameIsValid && descriptionIsValid;\r\n\r\n  React.useEffect(() => {\r\n    setUserName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const handleChangeName = (event) => {\r\n    setIsUserNameTouched(true);\r\n    setUserName(event.target.value);\r\n  }\r\n\r\n  const handleChangeDescription = (event) => {\r\n    setIsDescriptionTouched(true);\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name: userName,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='profileedit'\r\n      title='Редактировать профиль'\r\n      buttonTitle={props.buttonTitle}\r\n      buttonEnabled={buttonEnabled}\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n\r\n      <InputWithBrowserValidation\r\n        className='popup__input popup__input_name popup__input_top'\r\n        type='text'\r\n        name='name'\r\n        placeholder='Имя'\r\n        value={userName}\r\n        onChange={handleChangeName}\r\n        required\r\n        minLength='2'\r\n        maxLength='40'\r\n        isTouched={isUserNameTouched}\r\n        onButtonStatusChange={setUserNameIsValid}\r\n      />\r\n\r\n      <InputWithBrowserValidation className='popup__input popup__input_about'\r\n        type='text'\r\n        name='about'\r\n        onChange={handleChangeDescription}\r\n        placeholder='Описание'\r\n        value={description}\r\n        required\r\n        minLength='2'\r\n        maxLength='200'\r\n        isTouched={isDescriptionTouched}\r\n        onButtonStatusChange={setDescriptionIsValid}\r\n      />\r\n\r\n    </PopupWithForm>\r\n  );\r\n}","import React, { useState } from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputWithBrowserValidation from './InputWithBrowserValidation';\r\n\r\nexport default props => {\r\n\r\n  const [isTouched, setIsTouched] = useState(false);\r\n  const [input, setInput] = useState();\r\n\r\n  const [buttonEnabled, setButtonEnabled] = useState(true);\r\n\r\n  const setButtonStatus = (status) => {\r\n    setButtonEnabled(status);\r\n  }\r\n\r\n  const handleChange = () => {\r\n    if (!isTouched) {\r\n      setIsTouched(true);\r\n    }\r\n  }\r\n  \r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    // Исключительно потому что в задании сказано использовать тут реф - весь этот огород....\r\n    // А по хорошему - тут должен быть управляемый компонент. И тогда все по божески.\r\n    props.onUpdateAvatar({\r\n      avatar: input.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='newavatar'\r\n      title='Обновить аватар'\r\n      buttonTitle={props.buttonTitle}\r\n      buttonEnabled={buttonEnabled}\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n\r\n      <InputWithBrowserValidation\r\n        className='popup__input popup__input_top'\r\n        type='url'\r\n        name='avatar'\r\n        placeholder='Ссылка на картинку'\r\n        onChange={handleChange}\r\n        required\r\n        isTouched={isTouched}\r\n        refInput={el => (setInput(el))}\r\n        onButtonStatusChange={setButtonStatus}\r\n      />\r\n\r\n    </PopupWithForm>\r\n  );\r\n}","import React, { useState } from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InputWithBrowserValidation from './InputWithBrowserValidation';\r\n\r\nexport default props => {\r\n\r\n  const [name, setName] = useState('');\r\n  const [nameIsValid, setNameIsValid] = useState(true);\r\n  const [isNameTouched, setIsNameTouched] = useState(false);\r\n\r\n  const [link, setLink] = useState('');\r\n  const [linkIsValid, setLinkIsValid] = useState(true);\r\n  const [isLinkTouched, setIsLinkTouched] = useState(false);\r\n\r\n  const buttonEnabled = nameIsValid && linkIsValid;\r\n\r\n  const resetInputs = () => {\r\n    setName('');\r\n    setLink('');\r\n    setIsNameTouched(false);\r\n    setIsLinkTouched(false);\r\n  }\r\n\r\n  const handleChangeName = (event) => {\r\n    setIsNameTouched(true);\r\n    setName(event.target.value);\r\n  }\r\n\r\n  const handleChangeLink = (event) => {\r\n    setIsLinkTouched(true);\r\n    setLink(event.target.value);\r\n  }\r\n\r\n  const handleOnClose = () => {\r\n    props.onClose();\r\n    resetInputs();\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    props.onCreateCard({\r\n      name,\r\n      link\r\n    });\r\n    props.onClose();\r\n    resetInputs();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='newplace'\r\n      title='Новое место'\r\n      buttonTitle={props.buttonTitle}\r\n      buttonEnabled={buttonEnabled}\r\n      isOpened={props.isOpened}\r\n      onClose={handleOnClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n\r\n      <InputWithBrowserValidation\r\n        className='popup__input popup__input_photoname popup__input_top'\r\n        type='text'\r\n        name='photoName'\r\n        placeholder='Название'\r\n        value={name}\r\n        onChange={handleChangeName}\r\n        required\r\n        minLength='1'\r\n        maxLength='30'\r\n        isTouched={isNameTouched}\r\n        onButtonStatusChange={setNameIsValid}\r\n      />\r\n\r\n      <InputWithBrowserValidation\r\n        className='popup__input popup__input_photourl'\r\n        type='url'\r\n        name='photoUrl'\r\n        placeholder='Ссылка на картинку'\r\n        value={link}\r\n        onChange={handleChangeLink}\r\n        required\r\n        isTouched={isLinkTouched}\r\n        onButtonStatusChange={setLinkIsValid}\r\n      />\r\n\r\n    </PopupWithForm>\r\n  );\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default props => {\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    props.onConfirm();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='confirm'\r\n      title='Вы уверены?'\r\n      buttonTitle={props.buttonTitle}\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}","import React from 'react';\r\nimport Popup from './Popup';\r\nimport ImageWithError from './ImageWithError'\r\n\r\nexport default (props) => {\r\n  return (\r\n    <Popup\r\n      name='view'\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}>\r\n      <div className='popup__photoview'>\r\n        <ImageWithError className='popup__image'\r\n          alt='Просмотр фото'\r\n          src={props.card.link}/>\r\n        <h2 className='popup__imagetitle'>{props.card.name}</h2>\r\n        <button className='popup__reset'\r\n          type='button'\r\n          onClick={props.onClose} />\r\n      </div>\r\n    </Popup>\r\n  );\r\n}","class Api {\n  constructor(options) {\n    this._options = options;\n  }\n\n  // Запрос к серверу - по умолчанию GET\n  _serverRequest(urlSuffix, method = 'GET', body = undefined) {\n    return fetch(this._options.baseUrl + urlSuffix, {\n      method: method,\n      headers: {\n        authorization: this._options.headers.authorization,\n        'Content-Type': this._options.headers['Content-Type']\n      },\n      body: JSON.stringify(body)\n    })\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(`Ошибка: ${response.status}`);\n      });\n  }\n\n  // Профиль пользователя\n  getUserInfo() {\n    return this._serverRequest('users/me');\n  }\n\n  saveProfile(profile) {\n    return this._serverRequest('users/me', 'PATCH', profile);\n  }\n\n  saveAvatar(avatar) {\n    return this._serverRequest('users/me/avatar', 'PATCH', avatar);\n  }\n\n  // Инициализация карточек\n  getInitialCards() {\n    return this._serverRequest('cards');\n  }\n\n  saveCard(card) {\n    return this._serverRequest('cards', 'POST', card);\n  }\n\n  deleteCard(cardId) {\n    return this._serverRequest('cards/' + cardId, 'DELETE');\n  }\n\n  // Лайки\n  like(cardId, likeOn = true) {\n    const metod = likeOn ? 'PUT' : 'DELETE';\n    return this._serverRequest('cards/likes/' + cardId, metod);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14/',\n  headers: {\n    authorization: '44e5d6af-1500-4757-9283-b4dfbe9e13fc',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport {api}","import React from 'react';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport ImagePopup from './ImagePopup';\n\nimport { api } from '../utils/Api';\n\nimport { CurrentUserContextProvider } from '../contexts/CurrentUserContext';\n\nexport default () => {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  // Стейты для Main\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '' });\n  const [cards, setCards] = React.useState([]);\n  const [isHidden, setIsHidden] = React.useState(true); //Видимость профиля в Main\n\n  const [isSaving, setIsSaving] = React.useState(false);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userInfo, initialCards]) => {\n        setCurrentUser(userInfo);\n        setCards(initialCards);\n      })\n      .catch((error) => console.log('Ошибка запроса : ' + error))\n      .finally(() => {\n        setIsHidden(false);\n      });\n  }, []);\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((item) => { return item._id === currentUser._id; });\n\n    api.like(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((error) => console.log('Ошибка обработки лайка : ' + error))\n  }\n\n  const handleCardConfirm = (card) => {\n    setSelectedCard(card);\n    setIsConfirmPopupOpen(true);\n  }\n\n  const handleCardDelete = () => {\n    setIsSaving(true);\n    api.deleteCard(selectedCard._id)\n      .then(() => {\n        const newCards = [...cards];\n        const index = newCards.findIndex((item) => { return item._id === selectedCard._id });\n        if (index >= 0) {\n          newCards.splice(index, 1);\n          setCards(newCards);\n        }\n      })\n      .catch((error) => console.log('Ошибка удаления карточки : ' + error))\n      .finally(() => {\n        closeAllPopups();\n      })\n  }\n\n  const handleUpdateUser = ({ name, about }) => {\n    setIsSaving(true);\n    api.saveProfile({ 'name': name, 'about': about })\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => {\n        console.log('Ошибка изменения данных пользователя : ', err);\n      })\n      .finally(() => {\n        closeAllPopups();\n      });\n  }\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    setIsSaving(true);\n    api.saveAvatar({ 'avatar': avatar })\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => {\n        console.log('Ошибка изменения аватара пользователя : ', err);\n      })\n      .finally(() => {\n        closeAllPopups();\n      });\n  }\n\n  const handleCreateCard = (card) => {\n    setIsSaving(true);\n    api.saveCard(card)\n      .then((cardData) => {\n        if (cardData) {\n          setCards([\n            cardData,\n            ...cards\n          ]);\n        }\n      })\n      .catch((err) => {\n        console.log('Ошибка создания карточки : ', err);\n      });\n  }\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsSaving(false);\n    setSelectedCard({});\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  return (\n    <div className='page'>\n      <CurrentUserContextProvider value={currentUser}>\n        <Header />\n\n        <Main onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardConfirm}\n          isHidden={isHidden}\n          cards={cards}\n        />\n\n        <Footer />\n\n        <EditProfilePopup\n          isOpened={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          buttonTitle={isSaving ? 'Сохранение...' : 'Сохранить'}\n        />\n\n        <EditAvatarPopup\n          isOpened={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          value={currentUser.avatar}\n          buttonTitle={isSaving ? 'Сохранение...' : 'Сохранить'}\n        />\n\n        <AddPlacePopup\n          isOpened={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onCreateCard={handleCreateCard}\n          buttonTitle={isSaving ? 'Сохранение...' : 'Сохранить'}\n        />\n\n        <ConfirmPopup\n          onConfirm={handleCardDelete}\n          onClose={closeAllPopups}\n          isOpened={isConfirmPopupOpen}\n          buttonTitle={isSaving ? 'Сохранение...' : 'Да'}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          isOpened={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n\n      </CurrentUserContextProvider>\n    </div>\n  );\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.register();\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/onerror.a6166131.jpg\";"],"sourceRoot":""}