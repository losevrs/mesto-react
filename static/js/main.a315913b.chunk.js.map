{"version":3,"sources":["images/header/logo.svg","images/profile/member.png","images/onerror.jpg","components/Header.js","components/Footer.js","components/ImageWithError.js","components/Card.js","utils/Api.js","components/Main.js","components/Popup.js","components/PopupWithForm.js","components/ImagePopup.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","src","logo","alt","React","Component","Footer","ImageWithError","props","onLoadImageError","setState","hasErrorOnLoad","state","image","this","onError","onClick","errorImage","Card","handleClick","onCardClick","card","link","type","name","likes","length","api","options","_options","urlSuffix","method","body","undefined","fetch","baseUrl","headers","authorization","JSON","stringify","then","response","ok","json","Promise","reject","status","_serverRequest","profile","avatar","cardId","likeOn","metod","Main","userName","userDescription","userAvatar","cards","hidden","handleAddPlaceClick","onAddPlace","all","getUserInfo","getInitialCards","userInfo","initialCards","about","catch","error","console","log","finally","onEditAvatar","onEditProfile","map","key","_id","Popup","closeOnOverlay","event","target","popupOverlay","current","onClose","createRef","isOpened","ref","children","PopupWithForm","action","noValidate","title","buttonTitle","ImagePopup","App","closeAllPopups","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","selectedCard","isImagePopupOpen","handleCardClick","handleEditAvatarClick","handleEditProfileClick","placeholder","required","minLength","maxLength","id","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.a315913b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/onerror.a6166131.jpg\";","import React from 'react';\r\nimport logo from '../images/header/logo.svg';\r\n\r\nexport default class Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <header className=\"header\" >\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n      </header>\r\n    )\r\n  };\r\n}","import React from 'react';\r\n\r\nexport default class Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n      </footer>\r\n    )\r\n  };\r\n}","import React from 'react'\r\nimport errorImage from '../images/onerror.jpg';\r\n\r\nexport default class ImageWithError extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      image: '',\r\n      hasErrorOnLoad: false\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (!state.hasErrorOnLoad) {\r\n      return {\r\n        image: props.src\r\n      }\r\n    } else {\r\n      return {\r\n        image: errorImage,\r\n        hasErrorOnLoad: false\r\n      }\r\n    }\r\n  }\r\n\r\n  onLoadImageError = () => {\r\n    this.setState({\r\n      hasErrorOnLoad: true\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <img className={this.props.className}\r\n        src={this.state.image} alt={this.props.alt}\r\n        onError={this.onLoadImageError}\r\n        onClick={this.props.onClick} />\r\n    );\r\n  };\r\n}","import React from 'react';\r\nimport ImageWithError from './ImageWithError'\r\n\r\nexport default class Card extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      image: this.props.card.link\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.props.onCardClick(this.props.card);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"photocard\">\r\n        <ImageWithError className=\"photocard__viewport\"\r\n          src={this.state.image} alt=\"Фото места\" \r\n          onClick={this.handleClick}/>\r\n        <button className=\"photocard__delete\" type=\"button\"></button>\r\n        <div className=\"photocard__description\">\r\n          <h2 className=\"photocard__placename\">{this.props.card.name}</h2>\r\n          <div className=\"photocard__likes\">\r\n            <button className=\"photocard__like\" type=\"button\"></button>\r\n            <span className=\"photocard__count\">{this.props.card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","class Api {\n  constructor(options) {\n    this._options = options;\n  }\n\n  // Запрос к серверу - по умолчанию GET\n  _serverRequest(urlSuffix, method = 'GET', body = undefined) {\n    return fetch(this._options.baseUrl + urlSuffix, {\n      method: method,\n      headers: {\n        authorization: this._options.headers.authorization,\n        'Content-Type': this._options.headers['Content-Type']\n      },\n      body: JSON.stringify(body)\n    })\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(`Ошибка: ${response.status}`);\n      });\n  }\n\n  // Профиль пользователя\n  getUserInfo() {\n    return this._serverRequest('users/me');\n  }\n\n  saveProfile(profile) {\n    return this._serverRequest('users/me', 'PATCH', profile);\n  }\n\n  saveAvatar(avatar) {\n    return this._serverRequest('users/me/avatar', 'PATCH', avatar);\n  }\n\n  // Инициализация карточек\n  getInitialCards() {\n    return this._serverRequest('cards');\n  }\n\n  saveCard(card) {\n    return this._serverRequest('cards', 'POST', card);\n  }\n\n  deleteCard(cardId) {\n    return this._serverRequest('cards/' + cardId, 'DELETE');\n  }\n\n  // Лайки\n  like(cardId, likeOn = true) {\n    const metod = likeOn ? 'PUT' : 'DELETE';\n    return this._serverRequest('cards/likes/' + cardId, metod);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14/',\n  headers: {\n    authorization: '44e5d6af-1500-4757-9283-b4dfbe9e13fc',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport {api}","import React from 'react';\r\nimport avatar from '../images/profile/member.png';\r\nimport ImageWithError from './ImageWithError'\r\n\r\nimport Card from './Card';\r\nimport { api } from '../utils/Api';\r\n\r\nexport default class Main extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userName: '',\r\n      userDescription: '',\r\n      userAvatar: avatar,\r\n      cards: [],\r\n      hidden: true\r\n    };\r\n\r\n    this.handleAddPlaceClick = props.onAddPlace;\r\n  }\r\n\r\n  componentDidMount() {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([userInfo, initialCards]) => {\r\n        this.setState({\r\n          userName: userInfo.name,\r\n          userDescription: userInfo.about,\r\n          userAvatar: userInfo.avatar,\r\n          cards: initialCards\r\n        })\r\n      })\r\n      .catch((error) => console.log('Ошибка запроса -> ' + error))\r\n      .finally(() => {\r\n       this.setState({\r\n          hidden: false\r\n       });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className='main'>\r\n        <section className={`profile ${this.state.hidden && 'profile_hidden'}`}>\r\n          <ImageWithError className='profile__avatar'\r\n            src={this.state.userAvatar} alt='Аватар пользователя'\r\n            onClick={this.props.onEditAvatar}/>\r\n          <div className='profile__info'>\r\n            <div className='profile__title'>\r\n              <h1 className='profile__name'>{this.state.userName}</h1>\r\n              <button className='profile__editbutton' onClick={this.props.onEditProfile} type=\"button\"></button>\r\n            </div>\r\n            <p className='profile__about'>{this.state.userDescription}</p>\r\n          </div>\r\n          <button className='profile__addbutton' onClick={this.props.onAddPlace} type=\"button\"></button>\r\n        </section>\r\n\r\n        <section className='placesphotos'>\r\n          {this.state.cards.map(card =>\r\n            <Card key={card._id} card={card} onCardClick={this.props.onCardClick} />)}\r\n        </section>\r\n      </main>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\nexport default class Popup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.popupOverlay = React.createRef();\r\n  }\r\n\r\n  closeOnOverlay = (event) => {\r\n    if (event.target === this.popupOverlay.current) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className={`popup popup_${this.props.name} ${this.props.isOpened && \"popup_opened\"}`}\r\n        onClick={this.closeOnOverlay}\r\n        ref={this.popupOverlay}>\r\n        {this.props.children}\r\n      </section>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nexport default class PopupWithForm extends React.Component {\r\n  render() {\r\n    return (\r\n      <Popup\r\n        name={this.props.name}\r\n        isOpened={this.props.isOpened}\r\n        onClose={this.props.onClose}>\r\n        <form className=\"popup__container\" action=\"#\" method=\"POST\" name={`${this.props.name}`} noValidate >\r\n          <h2 className=\"popup__title\">{`${this.props.title}`}</h2>\r\n          {this.props.children}\r\n          <button className=\"popup__submit\" type=\"submit\">{this.props.buttonTitle}</button>\r\n          <button className=\"popup__reset\" type=\"button\" onClick={this.props.onClose}></button>\r\n        </form>\r\n      </Popup>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport Popup from './Popup';\r\nimport ImageWithError from './ImageWithError'\r\n\r\nexport default class ImagePopup extends React.Component {\r\n  render() {\r\n    return (\r\n      <Popup\r\n        name={this.props.name}\r\n        isOpened={this.props.isOpened}\r\n        onClose={this.props.onClose}>\r\n        <div className=\"popup__photoview\">\r\n          <ImageWithError className=\"popup__image\"\r\n            alt=\"Просмотр фото\" \r\n            src={this.props.card.link} />\r\n          <h2 className=\"popup__imagetitle\">{this.props.card.name}</h2>\r\n          <button className=\"popup__reset\" type=\"button\" onClick={this.props.onClose}></button>\r\n        </div>\r\n      </Popup>\r\n    );\r\n  }\r\n}","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditProfilePopupOpen: false,\n      isAddPlacePopupOpen: false,\n      isEditAvatarPopupOpen: false,\n      selectedCard: {},\n      isImagePopupOpen: false\n    };\n  }\n\n  closeAllPopups = () => {\n    this.setState({\n      isEditProfilePopupOpen: false,\n      isAddPlacePopupOpen: false,\n      isEditAvatarPopupOpen: false,\n      selectedCard: {},\n      isImagePopupOpen: false\n    });\n  }\n\n  handleCardClick = (card) => {\n    this.setState({\n      selectedCard: card,\n      isImagePopupOpen: true\n    });\n  }\n\n  handleEditAvatarClick = () => {\n    this.setState({ isEditAvatarPopupOpen: true });\n  };\n\n  handleEditProfileClick = () => {\n    this.setState({ isEditProfilePopupOpen: true });\n  };\n\n  handleAddPlaceClick = () => {\n    this.setState({ isAddPlacePopupOpen: true });\n  };\n\n  render() {\n    return (\n      <div className=\"page\">\n\n        <Header />\n\n        <Main onEditProfile={this.handleEditProfileClick}\n          onAddPlace={this.handleAddPlaceClick}\n          onEditAvatar={this.handleEditAvatarClick}\n          onCardClick={this.handleCardClick} />\n\n        <Footer />\n\n        <PopupWithForm name=\"profileedit\"\n          title=\"Редактировать профиль\"\n          buttonTitle=\"Сохранить\"\n          isOpened={this.state.isEditProfilePopupOpen}\n          onClose={this.closeAllPopups}>\n\n          <input className=\"popup__input popup__input_name popup__input_top\" type=\"text\" name=\"name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\n          <span id=\"popup__input_name_error\" className=\"popup__input_type_error\"></span>\n\n          <input className=\"popup__input popup__input_about\" type=\"text\" name=\"about\" placeholder=\"Описание\" required minLength=\"2\" maxLength=\"200\" />\n          <span id=\"popup__input_about_error\" className=\"popup__input_type_error\"></span>\n\n        </PopupWithForm>\n\n        <PopupWithForm name=\"newplace\"\n          title=\"Новое место\"\n          buttonTitle=\"Сохранить\"\n          isOpened={this.state.isAddPlacePopupOpen}\n          onClose={this.closeAllPopups}>\n\n          <input className=\"popup__input popup__input_photoname popup__input_top\" type=\"text\" name=\"photoName\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" />\n          <span id=\"popup__input_photoName_error\" className=\"popup__input_type_error\"></span>\n\n          <input className=\"popup__input popup__input_photourl\" type=\"url\" name=\"photoUrl\" placeholder=\"Ссылка на картинку\" required />\n          <span id=\"popup__input_photoUrl_error\" className=\"popup__input_type_error\"></span>\n\n        </PopupWithForm>\n\n        <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" buttonTitle=\"Да\" />\n\n        <PopupWithForm name=\"newavatar\"\n          title=\"Обновить аватар\"\n          buttonTitle=\"Сохранить\"\n          isOpened={this.state.isEditAvatarPopupOpen}\n          onClose={this.closeAllPopups}>\n\n          <input className=\"popup__input popup__input_avatar  popup__input_top\" type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\" required />\n          <span id=\"popup__input_avatar_error\" className=\"popup__input_type_error\"></span>\n\n        </PopupWithForm>\n\n        <ImagePopup card={this.state.selectedCard} \n        name=\"view\"\n        isOpened={this.state.isImagePopupOpen} \n        onClose={this.closeAllPopups} />\n\n      </div>\n    );\n  }\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.register();\nserviceWorker.unregister();\n"],"sourceRoot":""}